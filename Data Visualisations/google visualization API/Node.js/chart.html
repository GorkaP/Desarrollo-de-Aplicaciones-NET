<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script type="text/javascript">
       google.charts.load('current', {'packages':['corechart']});
       google.charts.setOnLoadCallback(drawChart);

    
        function drawChart() {


            $.ajax({
                url: "http://localhost:8001/datajson", 
                async: true, 
                dataType: "json",
                success: function(result){
                    // Create our data table out of JSON data loaded from server.
                    var data = new google.visualization.DataTable(result);

                    // Instantiate and draw our chart, passing in some options.
                    var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
                    chart.draw(data, { width: 400, height: 240 });

            }});

        }
    </script>
</head>
<body>
    <div id="chart_div">
    </div>
</body>
</html>